<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--=============== FLATICON ===============-->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />

    <!--=============== SWIPER CSS ===============-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="styles.css" />

    <title>Ecommerce Website</title>
  </head>
  <body>
    <!--=============== HEADER ===============-->
    <header class="header">
      <div class="header-top">
        <div class="header-container container">
          <div class="header-contact">
            <span>number</span>
            <span>Our Location</span>
          </div>
          <p class="header-alert-news">
            super value deals - save more with coupons
          </p>
          <a href="login-register.html" class="header-action"> Login/SignUp </a>
        </div>
      </div>

      <nav class="nav container">
        <a href="index.html" class="nav-logo">
          <img src="assets/img/logo.svg" alt="" class="nav-img" />
        </a>

        <div class="nav-menu" id="nav-menu">
          <ul class="nav-list">
            <li class="nav-item">
              <a href="index.html" class="nav-link">Home</a>
            </li>

            <li class="nav-item">
              <a href="shop.html" class="nav-link"> Shop</a>
            </li>

            <li class="nav-item">
              <a href="accounts.html" class="nav-link">My Account</a>
            </li>

            <li class="nav-item">
              <a href="compare.html" class="nav-link a">Comapare</a>
            </li>

            <li class="nav-item">
              <a href="login-register.html" class="nav-link">Login</a>
            </li>
          </ul>

          <div class="header-search">
            <input
              type="text"
              class="form-input"
              placeholder="search for items..."
            />
            <button class="search-btn">
              <img src="assets/img/search.png" alt="" />
            </button>
          </div>
        </div>

        <div class="header-user-action">
          <a href="wishlist.html" class="header-action-btn">
            <img src="assets/img/icon-heart.svg" alt="" />
            <span class="count">3</span>
          </a>

          <a href="cart.html" class="header-action-btn">
            <img src="assets/img/icon-cart.svg" alt="" />
            <span class="count">3</span>
          </a>
        </div>
      </nav>
    </header>

    <!--=============== MAIN ===============-->
    <main class="main">
      <!--=============== BREADCRUMB ===============-->
      <section class="breadcrumb">
        <ul class="breadcrumb-list flex container">
          <li>
            <a href="index.html" class="breadcrumb-link">Home</a>
          </li>
          <li>
            <span class="breadcrumb-link">></span>
          </li>
          <li>
            <span class="breadcrumb-link">Shop</span>
          </li>
          <li>
            <span class="breadcrumb-link">></span>
          </li>
          <li>
            <span class="breadcrumb-link">Cart</span>
          </li>
          <li></li>
        </ul>
      </section>

      <!--=============== CART ===============-->
      <section class="cart section--lg container">
        <div class="table-container">
          <table class="table" id="cart-table">
            <thead>
              <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Subtotal</th>
                <th>Remove</th>
              </tr>
            </thead>
            <tbody id="cart-body">
              <!-- Cart items will be dynamically inserted here -->
            </tbody>
          </table>
          <div class="cart-action">
            <button class="btn flex btn-md" onclick="updateCart()">
              <i class="material-icons-outlined">shuffle</i> Update Cart
            </button>
            <a href="shop.html" class="btn flex btn-md">
              <i class="material-icons-outlined">shopping_bag</i> Continue Shopping
            </a>
          </div>
          <div class="divider">
            <i class="material-icons-outlined">fingerprint</i>
          </div>
          <div class="cart-group grid">
            <div>
              <div class="cart-shipping">
                <h3 class="section-title">Calculate Shipping</h3>
                <form action="" class="form grid">
                  <input type="text" class="form-input" placeholder="State / Country">
                  <div class="form-group grid">
                    <input type="text" class="form-input" placeholder="City">
                    <input type="text" class="form-input" placeholder="Postcode / ZIP">
                  </div>
                  <div class="form-btn">
                    <button class="btn flex btn-sm">
                      <i class="material-icons-outlined">shuffle</i> Update 
                    </button>
                  </div>
                </form>
              </div>
              <div class="cart-coupon">
                <h3 class="section-title">Apply Coupon</h3>
                <form action="" class="coupon-form form grid">
                  <div class="form-group grid">
                    <input type="text" class="form-input" placeholder="Enter Your coupon">
                    <div class="form-btn">
                      <button class="btn flex btn-sm">
                        <i class="material-icons-outlined">label</i> Apply
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <div class="cart-total">
              <h3 class="section-title">Cart Totals</h3>
              <table class="cart-total-table">
                <tr>
                  <td><span class="cart-total-title">Cart Subtotal</span></td>
                  <td><span class="cart-total-price" id="cart-subtotal">$0</span></td>
                </tr>
                <tr>
                  <td><span class="cart-total-title">Shipping</span></td>
                  <td><span class="cart-total-price">$10</span></td>
                </tr>
                <tr>
                  <td><span class="cart-total-title">Total</span></td>
                  <td><span class="cart-total-price" id="cart-total">$10</span></td>
                </tr>
              </table>
              <a href="checkout.html" class="btn flex btn-md">
                <i class="material-icons-outlined">check_box</i> Proceed to Checkout
              </a>
            </div>
          </div>
        </div>
      </section>
      <!--=============== NEWSLETTER ===============-->
      <section class="newsletter home-newsletter">
        <div class="newsletter-container container grid">
          <h3 class="newsletter-title flex">
            <img
              src="assets/img/icon-email.svg"
              alt=""
              class="newsletter-icon"
            />
            Sign Up to Newsletter
          </h3>
          <p class="newsletter-desc">
            ...and recieve $25 coupon for first shopping.
          </p>
          <form action="" class="newsletter-form">
            <input
              type="email"
              class="newsletter-input"
              placeholder="Enter your Email"
            />
            <button type="submit" class="newsletter-btn">Subscribe</button>
          </form>
        </div>
      </section>
    </main>

    <!--=============== FOOTER ===============-->
    <footer class="footer container">
      <div class="footer-container container grid">
        <div class="footer-content">
          <a href="index.html" class="footer-logo">
            <img src="assets/img/logo.svg" alt="" class="footer-logo-img" />
          </a>

          <h4 class="footer-subtitle">Contact</h4>
          <p class="footer-desc">
            <span> Address:</span> 562 Wellignton Road ,Street 32 , San
            Francisco
          </p>

          <p class="footer-desc">
            <span> Phone:</span> +01 2222 365 /(+91) 01 2345 6789
          </p>

          <p class="footer-desc">
            <span>Hours:</span> 10:00 - 17:00 ,Mon - Sat
          </p>

          <div class="footer-social">
            <h4 class="footer-subtitle">Follow Me</h4>
            <div class="footer-social-links">
              <a href="#">
                <img
                  src="assets/img/icon-facebook.svg"
                  alt=""
                  class="footer-social-icon"
                />
              </a>

              <a href="#">
                <img
                  src="assets/img/icon-twitter.svg"
                  alt=""
                  class="footer-social-icon"
                />
              </a>

              <a href="#">
                <img
                  src="assets/img/icon-instagram.svg"
                  alt=""
                  class="footer-social-icon"
                />
              </a>

              <a href="#">
                <img
                  src="assets/img/icon-pinterest.svg"
                  alt=""
                  class="footer-social-icon"
                />
              </a>

              <a href="#">
                <img
                  src="assets/img/icon-youtube.svg"
                  alt=""
                  class="footer-social-icon"
                />
              </a>
            </div>
          </div>
        </div>

        <div class="footer-content">
          <h3 class="footer-title">Address</h3>
          <ul class="footer-links">
            <li><a href="" class="footer-link">About Us</a></li>
            <li><a href="" class="footer-link">Delivery Information </a></li>
            <li><a href="" class="footer-link">Privacy Policy</a></li>
            <li><a href="" class="footer-link">Terms & conditions</a></li>
            <li><a href="" class="footer-link">Contact us</a></li>
            <li><a href="" class="footer-link">Support Center</a></li>
          </ul>
        </div>

        <div class="footer-content">
          <h3 class="footer-title">My Account</h3>
          <ul class="footer-links">
            <li><a href="" class="footer-link">Sign up</a></li>
            <li><a href="" class="footer-link"> view cart </a></li>
            <li><a href="" class="footer-link">My Wishlist</a></li>
            <li><a href="" class="footer-link">Track My Order</a></li>
            <li><a href="" class="footer-link">Help</a></li>
            <li><a href="" class="footer-link">Order</a></li>
          </ul>
        </div>

        <div class="fooer-content">
          <h3 class="footer-title">Secured payment Gateways</h3>
          <img src="assets/img/payment-method.png" alt="" />
        </div>
      </div>

      <div class="footer-bottom">
        <p class="copyright">&copy; 2024 Evara. All rights reserved</p>
        <span class="designer">Desgined by Ahmed Emad</span>
      </div>
    </footer>

    <!--=============== SWIPER JS ===============-->
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <!--=============== MAIN JS ===============-->
    <script src="main.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
    loadCart();
  });

  function loadCart() {
    const cart = JSON.parse(localStorage.getItem('cart')) || {};
    const cartBody = document.getElementById('cart-body');
    let cartSubtotal = 0;

    // Clear existing cart items
    cartBody.innerHTML = '';

    for (const productId in cart) {
      const product = cart[productId];
      const row = document.createElement('tr');

      row.innerHTML = `
        <td><img src="${product.image}" alt="" class="table-img" /></td>
        <td>
          <h3 class="table-title">${product.name}</h3>
          <p class="table-desc">${product.description}</p>
        </td>
        <td><span class="table-price">$${product.price}</span></td>
        <td>
          <input type="number" value="${product.quantity}" class="quantity" onchange="updateQuantity('${productId}', this.value)" min="1" />
        </td>
        <td><span class="table-subtotal">$${(product.price * product.quantity).toFixed(2)}</span></td>
        <td><i class="material-icons-outlined" onclick="removeFromCart('${productId}')">delete</i></td>
      `;

      cartBody.appendChild(row);
      cartSubtotal += product.price * product.quantity;
    }

    updateTotals(cartSubtotal);
  }

  function updateQuantity(productId, quantity) {
    const cart = JSON.parse(localStorage.getItem('cart')) || {};

    if (quantity <= 0) {
      removeFromCart(productId);
      return;
    }

    if (cart[productId]) {
      cart[productId].quantity = quantity;
      localStorage.setItem('cart', JSON.stringify(cart));
      loadCart();
    }
  }

  function removeFromCart(productId) {
    const cart = JSON.parse(localStorage.getItem('cart')) || {};

    if (cart[productId]) {
      delete cart[productId];
      localStorage.setItem('cart', JSON.stringify(cart));
      loadCart();
    }
  }

  function updateCart() {
    loadCart();
  }

  function updateTotals(cartSubtotal) {
    const shipping = 10;
    const total = cartSubtotal + shipping;

    document.getElementById('cart-subtotal').textContent = `$${cartSubtotal.toFixed(2)}`;
    document.getElementById('cart-total').textContent = `$${total.toFixed(2)}`;
  }
    </script>
  </body>
</html>
